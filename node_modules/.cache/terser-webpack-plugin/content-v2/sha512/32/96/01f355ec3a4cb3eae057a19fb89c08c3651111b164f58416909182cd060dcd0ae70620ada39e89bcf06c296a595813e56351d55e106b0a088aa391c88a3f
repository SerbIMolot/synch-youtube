{"map":"{\"version\":3,\"sources\":[\"main.js\"],\"names\":[\"modules\",\"installedModules\",\"__webpack_require__\",\"moduleId\",\"exports\",\"module\",\"i\",\"l\",\"call\",\"m\",\"c\",\"d\",\"name\",\"getter\",\"o\",\"Object\",\"defineProperty\",\"enumerable\",\"get\",\"r\",\"Symbol\",\"toStringTag\",\"value\",\"t\",\"mode\",\"__esModule\",\"ns\",\"create\",\"key\",\"bind\",\"n\",\"object\",\"property\",\"prototype\",\"hasOwnProperty\",\"p\",\"s\",\"__webpack_exports__\",\"js_video_url_parser__WEBPACK_IMPORTED_MODULE_0__\",\"js_video_url_parser__WEBPACK_IMPORTED_MODULE_0___default\",\"getUrlParams\",\"url\",\"params\",\"split\",\"forEach\",\"pair\",\"map\",\"decodeURIComponent\",\"length\",\"link\",\"window\",\"location\",\"href\",\"siteLocation\",\"currentRoomName\",\"sr\",\"undefined\",\"virtDir\",\"host\",\"loadChatsView\",\"$\",\"ajax\",\"roomName\",\"type\",\"cache\",\"async\",\"success\",\"result\",\"console\",\"log\",\"html\",\"error\",\"xhr\",\"status\",\"err\",\"eval\",\"responseText\",\"alert\",\"Message\",\"charNameclick\",\"connection\",\"groupHubs\",\"state\",\"currentChatRoom\",\"server\",\"switchCurrentRoom\",\"loadMessageView\",\"updateScroll\",\"jqXHR\",\"exception\",\"msg\",\"chatName\",\"innerText\",\"setCallerCurrentTime\",\"DeleteCurrentChat\",\"onCreateClick\",\"room\",\"val\",\"onJoinClick\",\"OpenYoutube\",\"modal\",\"preview\",\"source\",\"httpGet\",\"theUrl\",\"xmlHttp\",\"XMLHttpRequest\",\"open\",\"send\",\"addEventListener\",\"event\",\"this\",\"playlistButtonPress\",\"document\",\"getElementById\",\"style\",\"width\",\"height\",\"marginRight\",\"on\",\"input\",\"includes\",\"empty\",\"getParams\",\"list\",\"beforeSend\",\"request\",\"dataType\",\"data\",\"textStatus\",\"errorThrown\",\"toString\",\"innerHTML\",\"changeVideoSource\",\"done\",\"videos\",\"jQuery\",\"fn\",\"func\",\"obj\",\"args\",\"arguments\",\"delayed\",\"execAsap\",\"apply\",\"timeout\",\"clearTimeout\",\"setTimeout\",\"threshold\",\"trigger\",\"videopl\",\"videojs\",\"serverCurrentTimeCall\",\"groupPlay\",\"groupPause\",\"opacity\",\"myMiddleware\",\"setSource\",\"srcObj\",\"next\",\"currentTime\",\"ct\",\"setCurrentTime\",\"time\",\"timeUpdate\",\"loadeddata\",\"notifyUserOfTryingToReconnect\",\"notifyUserOfConnectionProblem\",\"notifyUserOfDisconnect\",\"use\",\"playlist\",\"playlistUi\",\"el\",\"parser\",\"createElement\",\"vars\",\"search\",\"substring\",\"httpGetAsync\",\"callback\",\"onreadystatechange\",\"readyState\",\"setRequestHeader\",\"addElementPreview\",\"videosJson\",\"JSON\",\"parse\",\"video\",\"thumbnail\",\"srcset\",\"src\",\"duration\",\"addClass\",\"appendTo\",\"chat\",\"tryingToReconnect\",\"isServerChangePlaylist\",\"hub\",\"reconnected\",\"reconnecting\",\"connectionSlow\",\"disconnected\",\"client\",\"setTime\",\"play\",\"pause\",\"forceTimeUpdateServer\",\"updateRoomTime\",\"timeToSet\",\"setPlaylistIndexTimeSet\",\"element\",\"scrollTop\",\"scrollHeight\",\"setPlaylistIndexTime\",\"index\",\"currentIndex\",\"currentItem\",\"previewVideoFromLink\",\"previewLoadedVideos\",\"isSamePlaylist\",\"vid\",\"autoadvance\",\"repeat\",\"addMessage\",\"message\",\"addCallerMessage\",\"append\",\"onConnected\",\"id\",\"userName\",\"show\",\"updatePlaylist\",\"joinRoom\",\"requestTimeSynch\",\"updateUsersInRoom\",\"onNewUserConnected\",\"AddUser\",\"synchWith\",\"setTimeForOtherClient\",\"onUserDisconnected\",\"currentRoomAnmin\",\"switchAdminForRoom\",\"roomJson\",\"newUserList\",\"Users\",\"user\",\"newUserLi\",\"Admin\",\"UserName\",\"appendChild\",\"createTextNode\",\"changePlaylistItem\",\"jd\",\"playlistItemId_\",\"start\",\"sendGroupMessage\",\"fail\",\"e\",\"htmlEncode\",\"text\",\"_typeof\",\"iterator\",\"constructor\",\"util\",\"qs\",\"match\",\"join\",\"substr\",\"hasParams\",\"combined\",\"keys\",\"sort\",\"timeString\",\"timePairs\",\"totalSeconds\",\"timeValues\",\"h\",\"w\",\"replace\",\"trim\",\"parseInt\",\"getLetterTime\",\"getColonTime\",\"getQueryParams$1\",\"UrlParser\",\"_i\",\"_arr\",\"plugins\",\"urlParser\",\"parseProvider\",\"provider\",\"plugin\",\"removeEmptyParameters\",\"alternatives\",\"op\",\"videoInfo\",\"vi\",\"format\",\"defaultFormat\",\"formats\",\"assign\",\"base\",\"combineParams$1\",\"CanalPlus\",\"embed\",\"createEmbedUrl\",\"mediaTypes\",\"VIDEO\",\"parseParameters\",\"mediaType\",\"combineParams$2\",\"Coub\",\"long\",\"createLongUrl\",\"parseUrl\",\"createUrl\",\"baseUrl\",\"combineParams$3\",\"getTime$1\",\"Dailymotion\",\"short\",\"createShortUrl\",\"image\",\"createImageUrl\",\"parseTime\",\"combineParams$4\",\"getTime$2\",\"Twitch\",\"STREAM\",\"CLIP\",\"seperateId\",\"pre\",\"parseChannel\",\"channel\",\"utm_content\",\"clip\",\"isClip\",\"parseMediaType\",\"combineParams$5\",\"getTime$3\",\"Vimeo\",\"imageWidth\",\"imageHeight\",\"imageExtension\",\"startTime\",\"combineParams$6\",\"getTime$4\",\"Wistia\",\"embedjsonp\",\"createEmbedJsonpUrl\",\"EMBEDVIDEO\",\"wtime\",\"wvideo\",\"combineParams$7\",\"Youku\",\"flash\",\"createFlashUrl\",\"static\",\"createStaticUrl\",\"VideoIDS\",\"combineParams$8\",\"getTime$5\",\"YouTube\",\"shortImage\",\"createShortImageUrl\",\"longImage\",\"createLongImageUrl\",\"imageQualities\",\"0\",\"1\",\"2\",\"3\",\"DEFAULT\",\"HQDEFAULT\",\"SDDEFAULT\",\"MQDEFAULT\",\"MAXRESDEFAULT\",\"defaultImageQuality\",\"PLAYLIST\",\"SHARE\",\"CHANNEL\",\"parseVideoUrl\",\"parseChannelUrl\",\"v\",\"ci\",\"channelResult\",\"feature\",\"listType\",\"loop\",\"imageQuality\",\"combineParams$9\",\"getTime$6\",\"SoundCloud\",\"TRACK\",\"APITRACK\",\"APIPLAYLIST\",\"combineParams$a\",\"TeacherTube\",\"AUDIO\",\"DOCUMENT\",\"COLLECTION\",\"GROUP\",\"parsePlaylist\",\"mediaTypeMatch\",\"factory\"],\"mappings\":\"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\"}","code":"!function(e){var t={};function r(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)r.d(i,o,function(t){return e[t]}.bind(null,o));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=0)}([function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__);var js_video_url_parser__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),js_video_url_parser__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(js_video_url_parser__WEBPACK_IMPORTED_MODULE_0__),getUrlParams=function(e){var t={};return(e+\"?\").split(\"?\")[1].split(\"&\").forEach((function(e){(e=(e+\"=\").split(\"=\").map(decodeURIComponent))[0].length&&(t[e[0]]=e[1])})),t},link=window.location.href.split(\"/\"),siteLocation,currentRoomName,sr;if(void 0!==link[5]){currentRoomName=link[5];var virtDir=link[3];siteLocation=\"https://\"+window.location.host+\"/\"+virtDir}else currentRoomName=link[4],siteLocation=\"https://\"+window.location.host;function loadChatsView(){$.ajax({url:siteLocation+\"/Room/UpdateGrid?roomName=\"+roomName,type:\"post\",cache:!1,async:!0,success:function(e){console.log(e),$(\"#partialChats\").html(e)},error:function(xhr,status,error){var err=eval(\"(\"+xhr.responseText+\")\");alert(err.Message)}})}function charNameclick(e){console.log(e),$.connection.groupHubs.state.currentChatRoom=e,$.connection.groupHubs.server.switchCurrentRoom(e),loadMessageView(e)}function loadMessageView(e){$.ajax({url:siteLocation+\"/Room/UpdateChat?roomName=\"+e,type:\"post\",cache:!1,async:!0,success:function(t){console.log(t),$(\"#messages\").html(t),currentRoomName=e,updateScroll()},error:function(e,t){var r=\"\";r=0===e.status?\"Not connect.\\n Verify Network.\":404==e.status?\"Requested page not found. [404]\":500==e.status?\"Internal Server Error [500].\":\"parsererror\"===t?\"Requested JSON parse failed.\":\"timeout\"===t?\"Time out error.\":\"abort\"===t?\"Ajax request aborted.\":\"Uncaught Error.\\n\"+e.responseText,alert(r)}}),$.ajax({url:siteLocation+\"/Room/UpdateGrid?roomName=\"+e,type:\"post\",cache:!1,async:!0,success:function(t){console.log(t),chatName.innerText=e,$(\"#partialChats\").html(t)},error:function(e,t){var r=\"\";r=0===e.status?\"Not connect.\\n Verify Network.\":404==e.status?\"Requested page not found. [404]\":500==e.status?\"Internal Server Error [500].\":\"parsererror\"===t?\"Requested JSON parse failed.\":\"timeout\"===t?\"Time out error.\":\"abort\"===t?\"Ajax request aborted.\":\"Uncaught Error.\\n\"+e.responseText,alert(r)}}),currentRoomName=e,$.connection.groupHubs.server.setCallerCurrentTime(e)}function DeleteCurrentChat(){$.ajax({url:siteLocation+\"/Room/DeleteChat?roomName=\"+currentRoomName,type:\"post\",cache:!1,async:!0,success:function(e){console.log(e),$(\"#partialChats\").html(e)},error:function(xhr,status,error){var err=eval(\"(\"+xhr.responseText+\")\");alert(err.Message)}})}function onCreateClick(){var e=$(\"#createText\").val();0!=e.length&&(console.log(e),console.log(siteLocation+\"/Room/JoinRoom?roomName=\"+e),$.ajax({url:siteLocation+\"/Room/CreateRoom?roomName=\"+e,type:\"post\",cache:!1,async:!0,success:function(t){console.log(t),window.location.href=\"Chat/\"+e,loadMessageView(e)},error:function(e,t){var r=\"\";r=0===e.status?\"Not connect.\\n Verify Network.\":404==e.status?\"Requested page not found. [404]\":500==e.status?\"Internal Server Error [500].\":\"parsererror\"===t?\"Requested JSON parse failed.\":\"timeout\"===t?\"Time out error.\":\"abort\"===t?\"Ajax request aborted.\":\"Uncaught Error.\\n\"+e.responseText,alert(r)}}),$(\"#createText\").val(\"\"))}function onJoinClick(){var e=$(\"#joinRoomText\").val();0!=e.length&&(console.log(e),console.log(siteLocation+\"/Room/JoinRoom?roomName=\"+e),$.ajax({url:siteLocation+\"/Room/JoinRoom?roomName=\"+e,type:\"post\",cache:!1,async:!0,success:function(t){window.location.href=\"Chat/\"+e,console.log(t),$(\"#partialChats\").html(t),loadMessageView(e)},error:function(e,t){var r=\"\";r=0===e.status?\"Not connect.\\n Verify Network.\":404==e.status?\"Requested page not found. [404]\":500==e.status?\"Internal Server Error [500].\":\"parsererror\"===t?\"Requested JSON parse failed.\":\"timeout\"===t?\"Time out error.\":\"abort\"===t?\"Ajax request aborted.\":\"Uncaught Error.\\n\"+e.responseText,alert(r)}}),$(\"#joinRoomText\").val(\"\"))}function OpenYoutube(){$.ajax({url:siteLocation+\"/Room/YoutubePlayer\",type:\"get\",cache:!1,async:!0,success:function(e){console.log(e),$(\"#modDialog\").modal(\"show\")},error:function(xhr,status,error){var err=eval(\"(\"+xhr.responseText+\")\");alert(err.Message)}})}function preview(e){}function httpGet(e){var t=new XMLHttpRequest;return t.open(\"GET\",e,!0),t.send(null),t.addEventListener(\"load\",(function(e){console.log(this)})),t.responseText}function playlistButtonPress(){\"0px\"==document.getElementById(\"playlist-ui\").style.width||\"\"==document.getElementById(\"playlist-ui\").style.width?(document.getElementById(\"playlist-ui\").style.width=\"20%\",document.getElementById(\"playlist-ui\").style.height=\"100%\",document.getElementById(\"playlist_slide\").style.marginRight=\"20%\"):\"20%\"==document.getElementById(\"playlist-ui\").style.width&&(document.getElementById(\"playlist-ui\").style.width=\"0\",document.getElementById(\"playlist-ui\").style.height=\"0\",document.getElementById(\"playlist_slide\").style.marginRight=\"0%\")}if($(\"body\").on(\"click\",\".createBtn\",(function(){var e=$(\"#createText\").val();0!=e.length&&(console.log(e),$(\"#createText\").val(\"\"))})),$(\"#write_link\").on(\"input\",(function(){var e=$(this).val();if(e.includes(\"youtube\")&&(e.includes(\"watch\")||e.includes(\"list\"))){$(\"#playlist-ui2\").empty();var t=\"https://www.youtube.com/list_ajax?style=json&action_get_list=1&list=\"+getParams(e).list+\"&index=0&hl=en\";httpGet(t);$.ajax({url:t,type:\"GET\",beforeSend:function(e){},dataType:\"json\",success:function(e){alert(e)},error:function(e,t,r){alert(\"error\"),console.log(\"REQUEST\"+e.toString()),console.log(\"textStatus\"+t.toString()),console.log(\"errorThrown\"+r.toString())}})}else $(\"#playlist-ui2\").empty(),document.getElementById(\"elements_count\").innerHTML=\"\"})),$(\"body\").on(\"click\",\".link_send_btn\",(function(){var e=$(\"#write_link\").val();0!=e.length&&(console.log(e),$.connection.groupHubs.server.changeVideoSource(currentRoomName,e).done((function(e){})))})),$(\"body\").on(\"click\",\".ytp-suggestion-link\",(function(){})),$(\"#vid1\").on(\"click\",(function(){})),$(\".ytp-suggestion-image\").on(\"click\",(function(){})),$(\".ytp-suggestion-overlay\").on(\"click\",(function(){})),jQuery,sr=\"smartresize\",jQuery.fn[sr]=function(e){return e?this.bind(\"resize\",(t=e,function(){var e=this,n=arguments;function a(){i||t.apply(e,n),o=null}o?clearTimeout(o):i&&t.apply(e,n),o=setTimeout(a,r||100)})):this.trigger(sr);var t,r,i,o},void 0!==currentRoomName){var videopl=videojs(\"vid1\"),serverCurrentTimeCall=0;videopl.on(\"playing\",(function(){$.connection.groupHubs.server.groupPlay(currentRoomName)})),videopl.on(\"pause\",(function(){console.log(\"TESTSEMT: OSEMT: OMSET\"),$.connection.groupHubs.server.groupPause(currentRoomName)})),videopl.on(\"canplay\",e=>{}),videopl.on(\"mouseover\",(function(){document.getElementById(\"room_name\").style.opacity=1})),videopl.on(\"mouseout\",(function(){document.getElementById(\"room_name\").style.opacity=0}));var myMiddleware=function(e){return{setSource:function(e,t){t(null,e)},currentTime:function(e){return e,e},setCurrentTime:function(e){return 0==serverCurrentTimeCall?($.connection.groupHubs.server.timeUpdate(currentRoomName,e),console.log(e),e,e):1==serverCurrentTimeCall?(e,serverCurrentTimeCall=0,e):void 0},loadeddata:function(e){}}};function notifyUserOfTryingToReconnect(){}function notifyUserOfConnectionProblem(){}function notifyUserOfDisconnect(){}videojs.use(\"*\",myMiddleware),videopl.playlist([]),videopl.playlistUi({el:document.getElementById(\"playlist-ui\")});var getParams=function(e){var t={},r=document.createElement(\"a\");r.href=e;for(var i=r.search.substring(1).split(\"&\"),o=0;o<i.length;o++){var n=i[o].split(\"=\");t[n[0]]=decodeURIComponent(n[1])}return t};function httpGetAsync(e,t){var r=new XMLHttpRequest;r.onreadystatechange=function(){4==r.readyState&&200==r.status&&t(r.responseText)},r.open(\"GET\",e,!0),r.setRequestHeader(\"Access-Control-Allow-Origin\",\"null\"),r.setRequestHeader(\"Content-type\",\"application/json\"),r.send(null)}function addElementPreview(e){var t=JSON.parse(e);document.getElementById(\"playlist-ui2\");t.forEach(e=>{$('<li class=\"playlist_item\">\\n                        <div class=\"video_block\">\\n                            <picture class=\"video_thumbnail\"><source srcset=\"'+e.thumbnail[0].srcset+'\" type=\"'+e.thumbnail[0].type+'\">\\n                                <img alt=\"\" src=\"'+e.thumbnail[1].src+'\">\\n                            </picture>\\n                            <span class=\"time_date\" id=\"msg_time\">'+e.duration+\"</span>\\n                        </div>\\n                    </li>\").addClass(\"playlist_item\").appendTo(\"#playlist-ui2\")}),document.getElementById(\"elements_count\").innerHTML=$(\"#playlist-ui2 li\").length}$((function(){var e=$.connection.groupHubs,t=!1,r=!1;$.connection.hub.reconnected((function(){t=!1})),$.connection.hub.reconnecting((function(){t=!0,notifyUserOfTryingToReconnect()})),$.connection.hub.connectionSlow((function(){notifyUserOfConnectionProblem()})),$.connection.hub.disconnected((function(){t&&notifyUserOfDisconnect()})),e.client.setTime=function(e){video.currentTime(e)},e.client.groupPlay=function(){videopl.play()},e.client.groupPause=function(){videopl.pause()},e.client.timeUpdate=function(e){serverCurrentTimeCall=1,videopl.currentTime(e)},e.client.forceTimeUpdateServer=function(){$.connection.groupHubs.server.updateRoomTime(currentRoomName,videopl.currentTime())};var i=0,o=!1;function n(){var e=document.getElementById(\"msg_history\");e.scrollTop=e.scrollHeight}e.client.setPlaylistIndexTime=function(e,t){e!=videopl.playlist.currentIndex()?(r=!0,videopl.playlist.currentItem(e),console.log(\"442\"+r),o=!0,i=t):(o=!0,i=t)},e.client.previewVideoFromLink=function(e){index!=videopl.playlist.currentIndex()?(r=!0,videopl.playlist.currentItem(index),console.log(\"442\"+r),o=!0,i=time):(o=!0,i=time)},e.client.previewLoadedVideos=function(e,t){var r=JSON.parse(e);document.getElementById(\"playlist-ui2\");r.forEach(e=>{$('<li class=\"playlist_item\">\\n                    <div class=\"video_block\">\\n                        <picture class=\"video_thumbnail\"><source srcset=\"'+e.thumbnail[0].srcset+'\" type=\"'+e.thumbnail[0].type+'\">\\n                            <img alt=\"\" src=\"'+e.thumbnail[1].src+'\">\\n                        </picture>\\n                        <span class=\"time_date\" id=\"msg_time\">'+e.duration+\"</span>\\n                    </div>\\n                </li>\").addClass(\"playlist_item\").appendTo(\"#playlist-ui2\")}),document.getElementById(\"elements_count\").innerHTML=$(\"#playlist-ui2 li\").length},e.client.changeVideoSource=function(e){var t=JSON.parse(e);console.log(e),r=!0,console.log(\"334\"+r),videopl.src(t[0].src),videopl.playlist(t),videopl.playlist.autoadvance(1),videopl.playlist.repeat(!1)},e.client.addMessage=function(e,t,r,i){r==currentRoomName?$('<li class=\"incoming_msg\">\\n                <div class=\"received_msg\">\\n                    <div class=\"received_msg sender_name\">'+e+'</div>\\n                    <div class=\"received_withd_msg\">\\n                        <p>'+t+'</p>\\n                    </div>\\n                    <span class=\"time_date\" id=\"msg_time\">'+i+\"</span>\\n                </div>\\n            </li>\").addClass(\"incoming_msg\").appendTo(\"#msg_history\"):loadChatsView()},e.client.addCallerMessage=function(e,t,r){$(\"#msg_history\").append('<li class=\"outgoing_msg\">\\n            <div class=\"sent_msg\">\\n                <div class=\"outgoing_msg sender_name\">\\n                    <p>'+e+'</p>\\n                </div>\\n                <div class=\"received_withd_msg\">\\n                    <p>'+t+'</p>\\n                </div>\\n                <span class=\"time_date\"> @msg.sendDate </span>\\n            </div>\\n        </li>'),n()},e.client.onConnected=function(t,r){$(\"#chatBody\").show(),$(\"#hdId\").val(t),$(\"#username\").val(r),void 0!==currentRoomName&&(e.server.updatePlaylist(currentRoomName),n()),e.server.joinRoom(currentRoomName),e.server.requestTimeSynch(currentRoomName,r),e.server.updateUsersInRoom(currentRoomName),$(\"#header\").html(\"<h3>Добро пожаловать, \"+r+\"</h3>\"),console.log(r),console.log(r)},e.client.onNewUserConnected=function(e,t){AddUser(e,t)},e.client.synchWith=function(t){e.server.setTimeForOtherClient(t,videopl.currentTime(),videopl.playlist.currentIndex())},e.client.onUserDisconnected=function(t){currentRoomAnmin.userName==t&&e.groupHubs.server.switchAdminForRoom(currentRoomName,t)},e.client.updateUsersInRoom=function(e){var t=JSON.parse(e),r=document.getElementById(\"user-list\");r.innerHTML=\"\",t.Users.forEach(e=>{var i=document.createElement(\"li\");t.Admin.UserName===e.UserName?i.appendChild(document.createTextNode(e.UserName+\"Admin\")):i.appendChild(document.createTextNode(e.UserName)),r.appendChild(i)})},e.client.changePlaylistItem=function(e){e!=videopl.playlist.currentIndex()&&(console.log(\"442\"+r),r=!0,videopl.playlist.currentItem(e),videopl.currentTime(0))},videopl.on(\"playlistitem\",(function(e,t){r||t.playlistItemId_==videopl.playlist.currentIndex()?r&&(r=!1,console.log(\"458\"+r)):$.connection.groupHubs.server.changePlaylistItem(currentRoomName,videopl.playlist.currentIndex())})),videopl.on(\"sourceset\",(function(){console.log(\"sourceset\")})),videopl.on(\"loadstart\",(function(){o&&(videopl.currentTime(i),console.log(\"loadstart\"),o=!1,videopl.play())})),videopl.on(\"loadedmetadata\",(function(){console.log(\"loadedmetadata\")})),videopl.on(\"ready\",(function(){console.log(\"ready\")})),videopl.on(\"canplay\",(function(){console.log(\"canplay\")})),$.connection.hub.start().done((function(){console.log(\"hub is ready\"),$(\"body\").on(\"click\",\".msg_send_btn\",(function(){var t=$(\"#write_msg\").val();0!=t.length&&(console.log(currentRoomName),e.server.sendGroupMessage(currentRoomName,t),$(\"#write_msg\").val(\"\"))}))})).fail((function(e){console.error(e)}))}))}function htmlEncode(e){return $(\"<div />\").text(e).html()}function AddUser(e,t){$(\"#hdId\").val()!=e&&$(\"#chatusers\").append('<p id=\"'+e+'\"><b>'+t+\"</b></p>\")}},function(e,t,r){e.exports=function(){\"use strict\";function e(t){return(e=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(t)}var t=function(e){if(\"string\"!=typeof e)return{};var t,r={},i=(e=e.split(\"+\").join(\" \")).match(/(?:[?](?:[^=]+)=(?:[^&#]*)(?:[&](?:[^=]+)=(?:[^&#]*))*(?:[#].*)?)|(?:[#].*)/);if(null===i)return{};t=i[0].substr(1).split(/[&#=]/);for(var o=0;o<t.length;o+=2)r[decodeURIComponent(t[o])]=decodeURIComponent(t[o+1]||\"\");return r},r=function(t,r){if(\"object\"!==e(t))return\"\";var i=\"\",o=0,n=Object.keys(t);if(0===n.length)return\"\";for(n.sort(),r||(i+=\"?\"+n[0]+\"=\"+t[n[0]],o+=1);o<n.length;o+=1)i+=\"&\"+n[o]+\"=\"+t[n[o]];return i},i=function(e){return void 0===e?0:e.match(/^(\\d+[smhdw]?)+$/)?function(e){var t,r=0,i={s:1,m:60,h:3600,d:86400,w:604800};t=(e=e.replace(/([smhdw])/g,\" $1 \").trim()).split(\" \");for(var o=0;o<t.length;o+=2)r+=parseInt(t[o],10)*i[t[o+1]||\"s\"];return r}(e):e.match(/^(\\d+:?)+$/)?function(e){for(var t=0,r=[1,60,3600,86400,604800],i=e.split(\":\"),o=0;o<i.length;o++)t+=parseInt(i[o],10)*r[i.length-o-1];return t}(e):0},o=t;function n(){for(var e=0,t=[\"parseProvider\",\"parse\",\"bind\",\"create\"];e<t.length;e++){var r=t[e];this[r]=this[r].bind(this)}this.plugins={}}var a=n;n.prototype.parseProvider=function(e){var t=e.match(/(?:(?:https?:)?\\/\\/)?(?:[^.]+\\.)?(\\w+)\\./i);return t?t[1]:void 0},n.prototype.parse=function(e){if(void 0!==e){var t,r=this.parseProvider(e),i=this.plugins[r];if(r&&i&&i.parse)return(t=i.parse.call(i,e,o(e)))&&((t=function(e){return e.params&&0===Object.keys(e.params).length&&delete e.params,e}(t)).provider=i.provider),t}},n.prototype.bind=function(e){if(this.plugins[e.provider]=e,e.alternatives)for(var t=0;t<e.alternatives.length;t+=1)this.plugins[e.alternatives[t]]=e},n.prototype.create=function(t){if(\"object\"===e(t)&&\"object\"===e(t.videoInfo)){var r=t.videoInfo,i=t.params,o=this.plugins[r.provider];return i=\"internal\"===i?r.params:i||{},o&&(t.format=t.format||o.defaultFormat,o.formats.hasOwnProperty(t.format))?o.formats[t.format].apply(o,[r,Object.assign({},i)]):void 0}};var s=new a,l=r;function c(){this.provider=\"canalplus\",this.defaultFormat=\"embed\",this.formats={embed:this.createEmbedUrl},this.mediaTypes={VIDEO:\"video\"}}c.prototype.parseParameters=function(e){return delete e.vid,e},c.prototype.parse=function(e,t){var r={mediaType:this.mediaTypes.VIDEO,id:t.vid};if(r.params=this.parseParameters(t),r.id)return r},c.prototype.createEmbedUrl=function(e,t){if(e.id&&e.mediaType===this.mediaTypes.VIDEO){var r=\"http://player.canalplus.fr/embed/\";return t.vid=e.id,r+=l(t)}},s.bind(new c);var p=r;function d(){this.provider=\"coub\",this.defaultFormat=\"long\",this.formats={long:this.createLongUrl,embed:this.createEmbedUrl},this.mediaTypes={VIDEO:\"video\"}}d.prototype.parseUrl=function(e){var t=e.match(/(?:embed|view)\\/([a-zA-Z\\d]+)/i);return t?t[1]:void 0},d.prototype.parse=function(e,t){var r={mediaType:this.mediaTypes.VIDEO,params:t,id:this.parseUrl(e)};if(r.id)return r},d.prototype.createUrl=function(e,t,r){if(t.id&&t.mediaType===this.mediaTypes.VIDEO){var i=e+t.id;return i+=p(r)}},d.prototype.createLongUrl=function(e,t){return this.createUrl(\"https://coub.com/view/\",e,t)},d.prototype.createEmbedUrl=function(e,t){return this.createUrl(\"//coub.com/embed/\",e,t)},s.bind(new d);var u=r,m=i;function h(){this.provider=\"dailymotion\",this.alternatives=[\"dai\"],this.defaultFormat=\"long\",this.formats={short:this.createShortUrl,long:this.createLongUrl,embed:this.createEmbedUrl,image:this.createImageUrl},this.mediaTypes={VIDEO:\"video\"}}h.prototype.parseParameters=function(e){return this.parseTime(e)},h.prototype.parseTime=function(e){return e.start&&(e.start=m(e.start)),e},h.prototype.parseUrl=function(e){var t=e.match(/(?:\\/video|ly)\\/([A-Za-z0-9]+)/i);return t?t[1]:void 0},h.prototype.parse=function(e,t){var r={mediaType:this.mediaTypes.VIDEO,params:this.parseParameters(t),id:this.parseUrl(e)};return r.id?r:void 0},h.prototype.createUrl=function(e,t,r){if(t.id&&t.mediaType===this.mediaTypes.VIDEO)return e+t.id+u(r)},h.prototype.createShortUrl=function(e,t){return this.createUrl(\"https://dai.ly/\",e,t)},h.prototype.createLongUrl=function(e,t){return this.createUrl(\"https://dailymotion.com/video/\",e,t)},h.prototype.createEmbedUrl=function(e,t){return this.createUrl(\"https://www.dailymotion.com/embed/video/\",e,t)},h.prototype.createImageUrl=function(e,t){return delete t.start,this.createUrl(\"https://www.dailymotion.com/thumbnail/video/\",e,t)},s.bind(new h);var y=r,f=i;function v(){this.provider=\"twitch\",this.defaultFormat=\"long\",this.formats={long:this.createLongUrl,embed:this.createEmbedUrl},this.mediaTypes={VIDEO:\"video\",STREAM:\"stream\",CLIP:\"clip\"}}v.prototype.seperateId=function(e){return{pre:e[0],id:e.substr(1)}},v.prototype.parseChannel=function(e,t){var r=t.channel||t.utm_content||e.channel;return delete t.utm_content,delete t.channel,r},v.prototype.parseUrl=function(e,t,r){var i;return(i=e.match(/(clips\\.)?twitch\\.tv\\/(?:(?:videos\\/(\\d+))|(\\w+)(?:\\/clip\\/(\\w+))?)/i))&&i[2]?t.id=\"v\"+i[2]:r.video?(t.id=r.video,delete r.video):r.clip?(t.id=r.clip,t.isClip=!0,delete r.clip):i&&i[1]&&i[3]?(t.id=i[3],t.isClip=!0):i&&i[3]&&i[4]?(t.channel=i[3],t.id=i[4],t.isClip=!0):i&&i[3]&&(t.channel=i[3]),t},v.prototype.parseMediaType=function(e){var t;return e.id?e.isClip?(t=this.mediaTypes.CLIP,delete e.isClip):t=this.mediaTypes.VIDEO:e.channel&&(t=this.mediaTypes.STREAM),t},v.prototype.parseParameters=function(e){return e.t&&(e.start=f(e.t),delete e.t),e},v.prototype.parse=function(e,t){var r={};return(r=this.parseUrl(e,r,t)).channel=this.parseChannel(r,t),r.mediaType=this.parseMediaType(r),r.params=this.parseParameters(t),r.channel||r.id?r:void 0},v.prototype.createLongUrl=function(e,t){var r=\"\";if(e.mediaType===this.mediaTypes.STREAM&&e.channel)r=\"https://twitch.tv/\"+e.channel;else if(e.mediaType===this.mediaTypes.VIDEO&&e.id)r=\"https://twitch.tv/videos/\"+this.seperateId(e.id).id,t.start&&(t.t=t.start+\"s\",delete t.start);else{if(e.mediaType!==this.mediaTypes.CLIP||!e.id)return;r=e.channel?\"https://www.twitch.tv/\"+e.channel+\"/clip/\"+e.id:\"https://clips.twitch.tv/\"+e.id}return r+=y(t)},v.prototype.createEmbedUrl=function(e,t){var r=\"https://player.twitch.tv/\";if(e.mediaType===this.mediaTypes.STREAM&&e.channel)t.channel=e.channel;else if(e.mediaType===this.mediaTypes.VIDEO&&e.id)t.video=e.id,t.start&&(t.t=t.start+\"s\",delete t.start);else{if(e.mediaType!==this.mediaTypes.CLIP||!e.id)return;r=\"https://clips.twitch.tv/embed\",t.clip=e.id}return r+=y(t)},s.bind(new v);var g=r,T=i;function b(){this.provider=\"vimeo\",this.alternatives=[\"vimeopro\",\"vimeocdn\"],this.defaultFormat=\"long\",this.formats={long:this.createLongUrl,embed:this.createEmbedUrl,image:this.createImageUrl},this.mediaTypes={VIDEO:\"video\"}}b.prototype.parseUrl=function(e,t){var r=e.match(/(vimeo(?:cdn|pro)?)\\.com\\/(?:(?:channels\\/[\\w]+|(?:(?:album\\/\\d+|groups\\/[\\w]+|staff\\/frame)\\/)?videos?)\\/)?(\\d+)(?:_(\\d+)(?:x(\\d+))?)?(\\.\\w+)?/i);return r?(t.id=r[2],\"vimeocdn\"===r[1]&&(r[3]&&(t.imageWidth=parseInt(r[3]),r[4]&&(t.imageHeight=parseInt(r[4]))),t.imageExtension=r[5]),t):t},b.prototype.parseParameters=function(e){return this.parseTime(e)},b.prototype.parseTime=function(e){return e.t&&(e.start=T(e.t),delete e.t),e},b.prototype.parse=function(e,t){var r={mediaType:this.mediaTypes.VIDEO,params:this.parseParameters(t)};return(r=this.parseUrl(e,r)).id?r:void 0},b.prototype.createUrl=function(e,t,r){if(t.id&&t.mediaType===this.mediaTypes.VIDEO){var i=e+t.id,o=r.start;return delete r.start,i+=g(r),o&&(i+=\"#t=\"+o),i}},b.prototype.createLongUrl=function(e,t){return this.createUrl(\"https://vimeo.com/\",e,t)},b.prototype.createEmbedUrl=function(e,t){return this.createUrl(\"//player.vimeo.com/video/\",e,t)},b.prototype.createImageUrl=function(e,t){if(e.id&&e.mediaType===this.mediaTypes.VIDEO){var r=\"https://i.vimeocdn.com/video/\"+e.id;return e.imageWidth&&e.imageHeight?r+=\"_\"+e.imageWidth+\"x\"+e.imageHeight:e.imageWidth&&(r+=\"_\"+e.imageWidth),void 0===e.imageExtension&&(e.imageExtension=\".webp\"),r+=e.imageExtension,delete e.imageExtension,r+=g(t)}},s.bind(new b);var E=r,w=i;function U(){this.provider=\"wistia\",this.alternatives=[],this.defaultFormat=\"long\",this.formats={long:this.createLongUrl,embed:this.createEmbedUrl,embedjsonp:this.createEmbedJsonpUrl},this.mediaTypes={VIDEO:\"video\",EMBEDVIDEO:\"embedvideo\"}}U.prototype.parseUrl=function(e){var t=e.match(/(?:(?:medias|iframe)\\/|wvideo=)([\\w-]+)/);return t?t[1]:void 0},U.prototype.parseChannel=function(e){var t=e.match(/(?:(?:https?:)?\\/\\/)?([^.]*)\\.wistia\\./),r=t?t[1]:void 0;if(\"fast\"!==r&&\"content\"!==r)return r},U.prototype.parseParameters=function(e,t){return e.wtime&&(e.start=w(e.wtime),delete e.wtime),e.wvideo===t.id&&delete e.wvideo,e},U.prototype.parseMediaType=function(e){return e.id&&e.channel?this.mediaTypes.VIDEO:e.id?(delete e.channel,this.mediaTypes.EMBEDVIDEO):void 0},U.prototype.parse=function(e,t){var r={id:this.parseUrl(e),channel:this.parseChannel(e)};if(r.params=this.parseParameters(t,r),r.mediaType=this.parseMediaType(r),r.id)return r},U.prototype.createUrl=function(e,t,r){return t.start&&(t.wtime=t.start,delete t.start),r+=E(t)},U.prototype.createLongUrl=function(e,t){if(e.id&&e.mediaType===this.mediaTypes.VIDEO){var r=\"https://\"+e.channel+\".wistia.com/medias/\"+e.id;return this.createUrl(e,t,r)}},U.prototype.createEmbedUrl=function(e,t){if(e.id&&(e.mediaType===this.mediaTypes.VIDEO||e.mediaType===this.mediaTypes.EMBEDVIDEO)){var r=\"https://fast.wistia.com/embed/iframe/\"+e.id;return this.createUrl(e,t,r)}},U.prototype.createEmbedJsonpUrl=function(e){if(e.id&&(e.mediaType===this.mediaTypes.VIDEO||e.mediaType===this.mediaTypes.EMBEDVIDEO))return\"https://fast.wistia.com/embed/medias/\"+e.id+\".jsonp\"},s.bind(new U);var I=r;function _(){this.provider=\"youku\",this.defaultFormat=\"long\",this.formats={embed:this.createEmbedUrl,long:this.createLongUrl,flash:this.createFlashUrl,static:this.createStaticUrl},this.mediaTypes={VIDEO:\"video\"}}_.prototype.parseUrl=function(e){var t=e.match(/(?:(?:embed|sid)\\/|v_show\\/id_|VideoIDS=)([a-zA-Z0-9]+)/);return t?t[1]:void 0},_.prototype.parseParameters=function(e){return e.VideoIDS&&delete e.VideoIDS,e},_.prototype.parse=function(e,t){var r={mediaType:this.mediaTypes.VIDEO,id:this.parseUrl(e),params:this.parseParameters(t)};if(r.id)return r},_.prototype.createUrl=function(e,t,r){if(t.id&&t.mediaType===this.mediaTypes.VIDEO){var i=e+t.id;return i+=I(r)}},_.prototype.createEmbedUrl=function(e,t){return this.createUrl(\"http://player.youku.com/embed/\",e,t)},_.prototype.createLongUrl=function(e,t){return this.createUrl(\"http://v.youku.com/v_show/id_\",e,t)},_.prototype.createStaticUrl=function(e,t){return this.createUrl(\"http://static.youku.com/v1.0.0638/v/swf/loader.swf?VideoIDS=\",e,t)},_.prototype.createFlashUrl=function(e,t){if(e.id&&e.mediaType===this.mediaTypes.VIDEO){var r=\"http://player.youku.com/player.php/sid/\"+e.id+\"/v.swf\";return r+=I(t)}},s.bind(new _);var L=r,C=i;function O(){this.provider=\"youtube\",this.alternatives=[\"youtu\",\"ytimg\"],this.defaultFormat=\"long\",this.formats={short:this.createShortUrl,long:this.createLongUrl,embed:this.createEmbedUrl,shortImage:this.createShortImageUrl,longImage:this.createLongImageUrl},this.imageQualities={0:\"0\",1:\"1\",2:\"2\",3:\"3\",DEFAULT:\"default\",HQDEFAULT:\"hqdefault\",SDDEFAULT:\"sddefault\",MQDEFAULT:\"mqdefault\",MAXRESDEFAULT:\"maxresdefault\"},this.defaultImageQuality=this.imageQualities.HQDEFAULT,this.mediaTypes={VIDEO:\"video\",PLAYLIST:\"playlist\",SHARE:\"share\",CHANNEL:\"channel\"}}O.prototype.parseVideoUrl=function(e){var t=e.match(/(?:(?:v|vi|be|videos|embed)\\/(?!videoseries)|(?:v|ci)=)([\\w-]{11})/i);return t?t[1]:void 0},O.prototype.parseChannelUrl=function(e){var t=e.match(/\\/channel\\/([\\w-]+)/);return t?{id:t[1],mediaType:this.mediaTypes.CHANNEL}:(t=e.match(/\\/(?:c|user)\\/([\\w-]+)/))?{name:t[1],mediaType:this.mediaTypes.CHANNEL}:void 0},O.prototype.parseParameters=function(e,t){return(e.start||e.t)&&(e.start=C(e.start||e.t),delete e.t),e.v===t.id&&delete e.v,e.list===t.id&&delete e.list,e},O.prototype.parseMediaType=function(e){if(e.params.list&&(e.list=e.params.list,delete e.params.list),e.id&&!e.params.ci)e.mediaType=this.mediaTypes.VIDEO;else if(e.list)delete e.id,e.mediaType=this.mediaTypes.PLAYLIST;else{if(!e.params.ci)return;delete e.params.ci,e.mediaType=this.mediaTypes.SHARE}return e},O.prototype.parse=function(e,t){var r=this.parseChannelUrl(e);if(r)return r;var i={params:t,id:this.parseVideoUrl(e)};return i.params=this.parseParameters(t,i),i=this.parseMediaType(i)},O.prototype.createShortUrl=function(e,t){if(e.id&&e.mediaType===this.mediaTypes.VIDEO){var r=\"https://youtu.be/\"+e.id;return t.start&&(r+=\"#t=\"+t.start),r}},O.prototype.createLongUrl=function(e,t){var r=\"\",i=t.start;if(delete t.start,e.mediaType===this.mediaTypes.CHANNEL)if(e.id)r+=\"https://www.youtube.com/channel/\"+e.id;else{if(!e.name)return;r+=\"https://www.youtube.com/c/\"+e.name}else if(e.mediaType===this.mediaTypes.PLAYLIST&&e.list)t.feature=\"share\",r+=\"https://www.youtube.com/playlist\";else if(e.mediaType===this.mediaTypes.VIDEO&&e.id)t.v=e.id,r+=\"https://www.youtube.com/watch\";else{if(e.mediaType!==this.mediaTypes.SHARE||!e.id)return;t.ci=e.id,r+=\"https://www.youtube.com/shared\"}return e.list&&(t.list=e.list),r+=L(t),e.mediaType!==this.mediaTypes.PLAYLIST&&i&&(r+=\"#t=\"+i),r},O.prototype.createEmbedUrl=function(e,t){var r=\"https://www.youtube.com/embed\";if(e.mediaType===this.mediaTypes.PLAYLIST&&e.list)t.listType=\"playlist\";else{if(e.mediaType!==this.mediaTypes.VIDEO||!e.id)return;r+=\"/\"+e.id,\"1\"===t.loop&&(t.playlist=e.id)}return e.list&&(t.list=e.list),r+=L(t)},O.prototype.createImageUrl=function(e,t,r){if(t.id&&t.mediaType===this.mediaTypes.VIDEO)return e+t.id+\"/\"+(r.imageQuality||this.defaultImageQuality)+\".jpg\"},O.prototype.createShortImageUrl=function(e,t){return this.createImageUrl(\"https://i.ytimg.com/vi/\",e,t)},O.prototype.createLongImageUrl=function(e,t){return this.createImageUrl(\"https://img.youtube.com/vi/\",e,t)},s.bind(new O);var R=r,N=i;function P(){this.provider=\"soundcloud\",this.defaultFormat=\"long\",this.formats={long:this.createLongUrl,embed:this.createEmbedUrl},this.mediaTypes={TRACK:\"track\",PLAYLIST:\"playlist\",APITRACK:\"apitrack\",APIPLAYLIST:\"apiplaylist\"}}P.prototype.parseUrl=function(e,t){var r=e.match(/(?:m\\.)?soundcloud\\.com\\/(?:([\\w-]+)\\/(sets\\/)?)([\\w-]+)/i);return r?(t.channel=r[1],\"playlists\"===r[1]||r[2]?t.list=r[3]:t.id=r[3],t):t},P.prototype.parseParameters=function(e){return e.t&&(e.start=N(e.t),delete e.t),e},P.prototype.parseMediaType=function(e){return e.id&&(\"tracks\"===e.channel?(delete e.channel,delete e.params.url,e.mediaType=this.mediaTypes.APITRACK):e.mediaType=this.mediaTypes.TRACK),e.list&&(\"playlists\"===e.channel?(delete e.channel,delete e.params.url,e.mediaType=this.mediaTypes.APIPLAYLIST):e.mediaType=this.mediaTypes.PLAYLIST),e},P.prototype.parse=function(e,t){var r={};if((r=this.parseUrl(e,r)).params=this.parseParameters(t),(r=this.parseMediaType(r)).id||r.list)return r},P.prototype.createLongUrl=function(e,t){var r=\"\",i=t.start;if(delete t.start,e.mediaType===this.mediaTypes.TRACK&&e.id&&e.channel)r=\"https://soundcloud.com/\"+e.channel+\"/\"+e.id;else if(e.mediaType===this.mediaTypes.PLAYLIST&&e.list&&e.channel)r=\"https://soundcloud.com/\"+e.channel+\"/sets/\"+e.list;else if(e.mediaType===this.mediaTypes.APITRACK&&e.id)r=\"https://api.soundcloud.com/tracks/\"+e.id;else{if(e.mediaType!==this.mediaTypes.APIPLAYLIST||!e.list)return;r=\"https://api.soundcloud.com/playlists/\"+e.list}return r+=R(t),i&&(r+=\"#t=\"+i),r},P.prototype.createEmbedUrl=function(e,t){var r=\"https://w.soundcloud.com/player/\";if(delete t.start,e.mediaType===this.mediaTypes.APITRACK&&e.id)t.url=\"https%3A//api.soundcloud.com/tracks/\"+e.id;else{if(e.mediaType!==this.mediaTypes.APIPLAYLIST||!e.list)return;t.url=\"https%3A//api.soundcloud.com/playlists/\"+e.list}return r+=R(t)},s.bind(new P);var D=r;function S(){this.provider=\"teachertube\",this.alternatives=[],this.defaultFormat=\"long\",this.formats={long:this.createLongUrl,embed:this.createEmbedUrl},this.mediaTypes={VIDEO:\"video\",AUDIO:\"audio\",DOCUMENT:\"document\",CHANNEL:\"channel\",COLLECTION:\"collection\",GROUP:\"group\"}}return S.prototype.parse=function(e,t){var r={};r.list=this.parsePlaylist(t),r.params=t;var i=e.match(/\\/(audio|video|document|user\\/channel|collection|group)\\/(?:[\\w-]+-)?(\\w+)/);if(i)return r.mediaType=this.parseMediaType(i[1]),r.id=i[2],r},S.prototype.parsePlaylist=function(e){if(e[\"playlist-id\"]){var t=e[\"playlist-id\"];return delete e[\"playlist-id\"],t}},S.prototype.parseMediaType=function(e){switch(e){case\"audio\":return this.mediaTypes.AUDIO;case\"video\":return this.mediaTypes.VIDEO;case\"document\":return this.mediaTypes.DOCUMENT;case\"user/channel\":return this.mediaTypes.CHANNEL;case\"collection\":return this.mediaTypes.COLLECTION;case\"group\":return this.mediaTypes.GROUP}},S.prototype.createLongUrl=function(e,t){if(e.id){var r=\"https://www.teachertube.com/\";return e.list&&(t[\"playlist-id\"]=e.list),e.mediaType===this.mediaTypes.CHANNEL?r+=\"user/channel/\":r+=e.mediaType+\"/\",r+=e.id,r+=D(t)}},S.prototype.createEmbedUrl=function(e,t){if(e.id){var r=\"https://www.teachertube.com/embed/\";if(e.mediaType===this.mediaTypes.VIDEO||e.mediaType===this.mediaTypes.AUDIO)return r+=e.mediaType+\"/\"+e.id,r+=D(t)}},s.bind(new S),s}()}]);","extractedComments":[]}